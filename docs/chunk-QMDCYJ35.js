import{b as pt,c as mt,d as dt}from"./chunk-ZTUBYDP4.js";import{a as at,b as st}from"./chunk-A2SOE7PC.js";import{a as ct}from"./chunk-KOVMC74Q.js";import{b as Je,c as lt}from"./chunk-WQMZTLKH.js";import{a as j}from"./chunk-C7YKRIZ5.js";import{a as k}from"./chunk-3FZEPC3C.js";import{d as $e,f as ze,g as N,m as G}from"./chunk-EXJJF4RX.js";import{Eb as rt,F as He,M as Ze,Q as Be,Sa as Ue,Va as qe,Wa as ce,X as We,Za as Ke,bb as Ge,eb as Xe,fa as le,gb as et,j as P,jb as tt,k as Q,l as Y,na as Qe,o as je,ob as J,p as Fe,pa as Ye,t as b,tb as it,ub as ot,w as U,xb as nt}from"./chunk-C37TLAZK.js";import{$a as f,$b as V,Ab as De,Bb as B,C as ue,Dc as Ve,Ec as ae,Fb as O,Gb as x,Gc as q,Hb as Ee,Hc as K,Ib as Me,Ic as se,Kb as W,Lb as ne,Mb as A,Na as Se,Nb as T,Oa as c,Q as fe,Qb as Ae,R as he,Rb as s,Sa as Ce,Sb as h,Ta as d,Tb as re,Vb as Te,W as be,Wb as Re,Xb as Le,Yb as Pe,aa as v,ab as Oe,ba as y,db as xe,ea as ve,fb as C,ka as oe,la as ye,lb as Ie,mb as u,oa as ge,qb as _e,uc as $,vb as n,vc as Ne,wb as r,x as de,xb as p,yb as ke,zb as we}from"./chunk-AN2PFFFI.js";import{a as I,b as _}from"./chunk-EQDQRRRY.js";var It=["content"],_t=["closeicon"],kt=["*"],wt=(o,i)=>({showTransitionParams:o,hideTransitionParams:i}),Dt=(o,i)=>({value:o,params:i});function Et(o,i){o&1&&De(0)}function Mt(o,i){if(o&1){let e=B();n(0,"div",1),O("click",function(a){v(e);let l=x();return y(l.onOverlayClick(a))})("@animation.start",function(a){v(e);let l=x();return y(l.onAnimationStart(a))})("@animation.done",function(a){v(e);let l=x();return y(l.onAnimationEnd(a))}),n(1,"div",2),O("click",function(a){v(e);let l=x();return y(l.onContentClick(a))})("mousedown",function(a){v(e);let l=x();return y(l.onContentClick(a))}),Me(2),C(3,Et,1,0,"ng-container",3),r()()}if(o&2){let e=x();_e(e.styleClass),u("ngClass","p-popover p-component")("ngStyle",e.style)("@animation",V(12,Dt,e.overlayVisible?"open":"close",V(9,wt,e.showTransitionOptions,e.hideTransitionOptions))),Ie("aria-modal",e.overlayVisible)("aria-label",e.ariaLabel)("aria-labelledBy",e.ariaLabelledBy),c(3),u("ngTemplateOutlet",e.contentTemplate||e._contentTemplate)}}var At=({dt:o})=>`
.p-popover {
    margin-top: ${o("popover.gutter")};
    background: ${o("popover.background")};
    color: ${o("popover.color")};
    border: 1px solid ${o("popover.border.color")};
    border-radius: ${o("popover.border.radius")};
    box-shadow: ${o("popover.shadow")};
    position: absolute
}

.p-popover-content {
    padding: ${o("popover.content.padding")};
}

.p-popover-flipped {
    margin-top: calc(${o("popover.gutter")} * -1);
    margin-bottom: ${o("popover.gutter")};
}

.p-popover-enter-from {
    opacity: 0;
    transform: scaleY(0.8);
}

.p-popover-leave-to {
    opacity: 0;
}

.p-popover-enter-active {
    transition: transform 0.12s cubic-bezier(0, 0, 0.2, 1), opacity 0.12s cubic-bezier(0, 0, 0.2, 1);
}

.p-popover-leave-active {
    transition: opacity 0.1s linear;
}

.p-popover:after,
.p-popover:before {
    bottom: 100%;
    left: calc(${o("popover.arrow.offset")} + ${o("popover.arrow.left")});
    content: " ";
    height: 0;
    width: 0;
    position: absolute;
    pointer-events: none;
}

.p-popover:after {
    border-width: calc(${o("popover.gutter")} - 2px);
    margin-left: calc(-1 * (${o("popover.gutter")} - 2px));
    border-style: solid;
    border-color: transparent;
    border-bottom-color: ${o("popover.background")};
}

.p-popover:before {
    border-width: ${o("popover.gutter")};
    margin-left: calc(-1 * ${o("popover.gutter")});
    border-style: solid;
    border-color: transparent;
    border-bottom-color: ${o("popover.border.color")};
}

.p-popover-flipped:after,
.p-popover-flipped:before {
    bottom: auto;
    top: 100%;
}

.p-popover.p-popover-flipped:after {
    border-bottom-color: transparent;
    border-top-color: ${o("popover.background")};
}

.p-popover.p-popover-flipped:before {
    border-bottom-color: transparent;
    border-top-color: ${o("popover.border.color")};
}

`,Tt={root:"p-popover p-component",content:"p-popover-content"},ut=(()=>{class o extends Ge{name="popover";theme=At;classes=Tt;static \u0275fac=(()=>{let e;return function(a){return(e||(e=ve(o)))(a||o)}})();static \u0275prov=fe({token:o,factory:o.\u0275fac})}return o})();var ft=(()=>{class o extends Xe{zone;overlayService;ariaLabel;ariaLabelledBy;dismissable=!0;showCloseIcon;style;styleClass;appendTo="body";autoZIndex=!0;ariaCloseLabel;baseZIndex=0;focusOnShow=!0;showTransitionOptions=".12s cubic-bezier(0, 0, 0.2, 1)";hideTransitionOptions=".1s linear";onShow=new oe;onHide=new oe;container;overlayVisible=!1;render=!1;isOverlayAnimationInProgress=!1;selfClick=!1;documentClickListener;target;willHide;scrollHandler;documentResizeListener;contentTemplate;closeIconTemplate;templates;_contentTemplate;destroyCallback;overlayEventListener;overlaySubscription;_componentStyle=be(ut);constructor(e,t){super(),this.zone=e,this.overlayService=t,console.log("OverlayPanel is deprecated. Use Popover instead.")}ngAfterContentInit(){this.templates?.forEach(e=>{switch(e.getType()){case"content":this._contentTemplate=e.template;break;default:this._contentTemplate=e.template;break}this.cd.markForCheck()})}bindDocumentClickListener(){if(U(this.platformId)&&!this.documentClickListener){let e=Qe()?"touchstart":"click",t=this.el?this.el.nativeElement.ownerDocument:this.document;this.documentClickListener=this.renderer.listen(t,e,a=>{this.dismissable&&(!this.container?.contains(a.target)&&this.target!==a.target&&!this.target.contains(a.target)&&!this.selfClick&&this.hide(),this.selfClick=!1,this.cd.markForCheck())})}}unbindDocumentClickListener(){this.documentClickListener&&(this.documentClickListener(),this.documentClickListener=null,this.selfClick=!1)}toggle(e,t){this.isOverlayAnimationInProgress||(this.overlayVisible?(this.hasTargetChanged(e,t)&&(this.destroyCallback=()=>{this.show(null,t||e.currentTarget||e.target)}),this.hide()):this.show(e,t))}show(e,t){t&&e&&e.stopPropagation(),!this.isOverlayAnimationInProgress&&(this.target=t||e.currentTarget||e.target,this.overlayVisible=!0,this.render=!0,this.cd.markForCheck())}onOverlayClick(e){this.overlayService.add({originalEvent:e,target:this.el.nativeElement}),this.selfClick=!0}onContentClick(e){let t=e.target;this.selfClick=e.offsetX<t.clientWidth&&e.offsetY<t.clientHeight}hasTargetChanged(e,t){return this.target!=null&&this.target!==(t||e.currentTarget||e.target)}appendContainer(){this.appendTo&&(this.appendTo==="body"?this.renderer.appendChild(this.document.body,this.container):Be(this.appendTo,this.container))}restoreAppend(){this.container&&this.appendTo&&this.renderer.appendChild(this.el.nativeElement,this.container)}align(){this.autoZIndex&&J.set("overlay",this.container,this.baseZIndex+this.config.zIndex.overlay),Ze(this.container,this.target,!1);let e=le(this.container),t=le(this.target),a=this.document.defaultView?.getComputedStyle(this.container).getPropertyValue("border-radius"),l=0;e.left<t.left&&(l=t.left-e.left-parseFloat(a)*2),this.container?.style.setProperty(Ke("popover.arrow.left").name,`${l}px`),e.top<t.top&&(this.container.setAttribute("data-p-popover-flipped","true"),He(this.container,"p-popover-flipped"),this.showCloseIcon&&this.renderer.setStyle(this.container,"margin-top","-30px"))}onAnimationStart(e){e.toState==="open"&&(this.container=e.element,this.appendContainer(),this.align(),this.bindDocumentClickListener(),this.bindDocumentResizeListener(),this.bindScrollListener(),this.focusOnShow&&this.focus(),this.overlayEventListener=t=>{this.container&&this.container.contains(t.target)&&(this.selfClick=!0)},this.overlaySubscription=this.overlayService.clickObservable.subscribe(this.overlayEventListener),this.onShow.emit(null)),this.isOverlayAnimationInProgress=!0}onAnimationEnd(e){switch(e.toState){case"void":this.destroyCallback&&(this.destroyCallback(),this.destroyCallback=null),this.overlaySubscription&&this.overlaySubscription.unsubscribe();break;case"close":this.autoZIndex&&J.clear(this.container),this.overlaySubscription&&this.overlaySubscription.unsubscribe(),this.onContainerDestroy(),this.onHide.emit({}),this.render=!1;break}this.isOverlayAnimationInProgress=!1}focus(){let e=We(this.container,"[autofocus]");e&&this.zone.runOutsideAngular(()=>{setTimeout(()=>e.focus(),5)})}hide(){this.overlayVisible=!1,this.cd.markForCheck()}onCloseClick(e){this.hide(),e.preventDefault()}onEscapeKeydown(e){this.hide()}onWindowResize(){this.overlayVisible&&!Ye()&&this.hide()}bindDocumentResizeListener(){if(U(this.platformId)&&!this.documentResizeListener){let e=this.document.defaultView;this.documentResizeListener=this.renderer.listen(e,"resize",this.onWindowResize.bind(this))}}unbindDocumentResizeListener(){this.documentResizeListener&&(this.documentResizeListener(),this.documentResizeListener=null)}bindScrollListener(){U(this.platformId)&&(this.scrollHandler||(this.scrollHandler=new et(this.target,()=>{this.overlayVisible&&this.hide()})),this.scrollHandler.bindScrollListener())}unbindScrollListener(){this.scrollHandler&&this.scrollHandler.unbindScrollListener()}onContainerDestroy(){this.cd.destroyed||(this.target=null),this.unbindDocumentClickListener(),this.unbindDocumentResizeListener(),this.unbindScrollListener()}ngOnDestroy(){this.scrollHandler&&(this.scrollHandler.destroy(),this.scrollHandler=null),this.container&&this.autoZIndex&&J.clear(this.container),this.cd.destroyed||(this.target=null),this.destroyCallback=null,this.container&&(this.restoreAppend(),this.onContainerDestroy()),this.overlaySubscription&&this.overlaySubscription.unsubscribe(),super.ngOnDestroy()}static \u0275fac=function(t){return new(t||o)(d(ye),d(Ue))};static \u0275cmp=f({type:o,selectors:[["p-overlayPanel"],["p-overlaypanel"]],contentQueries:function(t,a,l){if(t&1&&(W(l,It,4),W(l,_t,4),W(l,qe,4)),t&2){let m;A(m=T())&&(a.contentTemplate=m.first),A(m=T())&&(a.closeIconTemplate=m.first),A(m=T())&&(a.templates=m)}},hostBindings:function(t,a){t&1&&O("keydown.escape",function(m){return a.onEscapeKeydown(m)},!1,Se)},inputs:{ariaLabel:"ariaLabel",ariaLabelledBy:"ariaLabelledBy",dismissable:[2,"dismissable","dismissable",$],showCloseIcon:[2,"showCloseIcon","showCloseIcon",$],style:"style",styleClass:"styleClass",appendTo:"appendTo",autoZIndex:[2,"autoZIndex","autoZIndex",$],ariaCloseLabel:"ariaCloseLabel",baseZIndex:[2,"baseZIndex","baseZIndex",Ne],focusOnShow:[2,"focusOnShow","focusOnShow",$],showTransitionOptions:"showTransitionOptions",hideTransitionOptions:"hideTransitionOptions"},outputs:{onShow:"onShow",onHide:"onHide"},standalone:!1,features:[Pe([ut]),xe],ngContentSelectors:kt,decls:1,vars:1,consts:[["role","dialog",3,"ngClass","ngStyle","class","click",4,"ngIf"],["role","dialog",3,"click","ngClass","ngStyle"],[1,"p-popover-content",3,"click","mousedown"],[4,"ngTemplateOutlet"]],template:function(t,a){t&1&&(Ee(),C(0,Mt,4,15,"div",0)),t&2&&u("ngIf",a.render)},dependencies:[P,Y,Fe,je],encapsulation:2,data:{animation:[Ve("animation",[K("void",q({transform:"scaleY(0.8)",opacity:0})),K("close",q({opacity:0})),K("open",q({transform:"translateY(0)",opacity:1})),se("void => open",ae("{{showTransitionParams}}")),se("open => close",ae("{{hideTransitionParams}}"))])]},changeDetection:0})}return o})(),ht=(()=>{class o{static \u0275fac=function(t){return new(t||o)};static \u0275mod=Oe({type:o});static \u0275inj=he({imports:[b,ce,tt,ce]})}return o})();var Lt=(o,i)=>({"pi ":!0,"pi-moon":o,"pi-sun":i}),z=class o{constructor(i,e,t){this.layoutService=i;this.authService=e;this.router=t}selectedDate=null;toggleDarkMode(){this.layoutService.layoutConfig.update(i=>_(I({},i),{darkTheme:!i.darkTheme}))}onLogout(){this.authService.logout(),this.router.navigate(["/auth/login"])}static \u0275fac=function(e){return new(e||o)(d(j),d(lt),d(N))};static \u0275cmp=f({type:o,selectors:[["app-topbar"]],decls:22,vars:6,consts:[["calendarPanel",""],[1,"layout-topbar"],[1,"layout-topbar-logo-container"],[1,"layout-menu-button","layout-topbar-action",3,"click"],[1,"pi","pi-bars"],["routerLink","/",1,"layout-topbar-logo"],[1,"layout-topbar-actions"],[1,"layout-config-menu"],["type","button",1,"layout-topbar-action",3,"click"],[3,"ngClass"],["dateFormat","dd/mm/yy",3,"ngModelChange","ngModel","showIcon"],[1,"pi","pi-calendar"],[1,"pi","pi-sign-out"]],template:function(e,t){if(e&1){let a=B();n(0,"div",1)(1,"div",2)(2,"button",3),O("click",function(){return v(a),y(t.layoutService.onMenuToggle())}),p(3,"i",4),r(),n(4,"a",5)(5,"span"),s(6,"PROYECTO AVICOLA"),r()()(),n(7,"div",6)(8,"div",7)(9,"button",8),O("click",function(){return v(a),y(t.toggleDarkMode())}),p(10,"i",9),r()(),n(11,"p-overlayPanel",null,0)(13,"p-calendar",10),Le("ngModelChange",function(m){return v(a),Re(t.selectedDate,m)||(t.selectedDate=m),y(m)}),r()(),n(14,"button",8),O("click",function(m){v(a);let D=Ae(12);return y(D.toggle(m))}),p(15,"i",11),n(16,"span"),s(17,"CALENDARIO"),r()(),n(18,"button",8),O("click",function(){return v(a),y(t.onLogout())}),p(19,"i",12),n(20,"span"),s(21,"CERRAR SESI\xD3N"),r()()()()}e&2&&(c(10),u("ngClass",V(3,Lt,t.layoutService.isDarkTheme(),!t.layoutService.isDarkTheme())),c(3),Te("ngModel",t.selectedDate),u("showIcon",!0))},dependencies:[b,P,Je,ht,ft,st,at,nt,it,ot],encapsulation:2})};function Pt(o,i){if(o&1&&p(0,"li",4),o&2){let e=x(),t=e.$implicit,a=e.index;u("item",t)("index",a)("root",!0)}}function Nt(o,i){o&1&&p(0,"li",5)}function jt(o,i){if(o&1&&(ke(0),C(1,Pt,1,3,"li",2)(2,Nt,1,0,"li",3),we()),o&2){let e=i.$implicit;c(),u("ngIf",!e.separator),c(),u("ngIf",e.separator)}}var ee=class o{constructor(i,e){this.dataService=i;this.router=e}model=[];ngOnInit(){this.dataService.getData().subscribe(i=>{this.model=[{label:"INICIO",items:[{label:"PANEL PRINCIPAL",icon:"pi pi-fw pi-home",routerLink:["/"]}]},{label:"COMPONENTES",items:[{label:"LISTA DE TRABAJADORES",icon:"pi pi-fw pi-user",routerLink:["/admin-area/uikit/table"]}]},{label:"P\xC1GINAS",icon:"pi pi-fw pi-briefcase",routerLink:["/pages"],items:[{label:"ADMINISTRACI\xD3N DE TRABAJADORES",icon:"pi pi-fw pi-pencil",routerLink:["/admin-area/pages/crud"]},{label:"ZONAS",icon:"pi pi-fw pi-user",items:this.crearMenuZonas(i)},{label:"PARVADAS",icon:"pi pi-fw pi-user",items:this.crearMenuParvadas(i)}]},{label:"\xBFQUI\xC9NES SOMOS?",items:[{label:"DOCUMENTACI\xD3N",icon:"pi pi-fw pi-book",url:"https://github.com/CristianSinoe/PROYECTO_AVICOLA",target:"_blank"},{label:"M\xC1S INFORMACI\xD3N",icon:"pi pi-fw pi-github",url:"https://github.com/CristianSinoe/PROYECTO_AVICOLA",target:"_blank"}]}]})}crearMenuZonas(i){let e=[];return Object.keys(i.promedioAlimento).forEach(t=>{e.push({label:t,icon:"pi pi-fw pi-map-marker",command:()=>this.router.navigate([`/admin-area/zona/${encodeURIComponent(t)}`])})}),e}crearMenuParvadas(i){let e=[];return Object.keys(i.promedioAlimento).forEach(t=>{e.push({label:t,icon:"pi pi-fw pi-map-marker",command:()=>this.router.navigate([`/admin-area/parvada/${encodeURIComponent(t)}`])})}),e}static \u0275fac=function(e){return new(e||o)(d(k),d(N))};static \u0275cmp=f({type:o,selectors:[["app-menu"]],decls:2,vars:1,consts:[[1,"layout-menu"],[4,"ngFor","ngForOf"],["app-menuitem","",3,"item","index","root",4,"ngIf"],["class","menu-separator",4,"ngIf"],["app-menuitem","",3,"item","index","root"],[1,"menu-separator"]],template:function(e,t){e&1&&(n(0,"ul",0),C(1,jt,3,2,"ng-container",1),r()),e&2&&(c(),u("ngForOf",t.model))},dependencies:[b,Q,Y,ct,G],encapsulation:2})};var H=class o{constructor(i){this.el=i}static \u0275fac=function(e){return new(e||o)(d(ge))};static \u0275cmp=f({type:o,selectors:[["app-sidebar"]],decls:2,vars:0,consts:[[1,"layout-sidebar"]],template:function(e,t){e&1&&(n(0,"div",0),p(1,"app-menu"),r())},dependencies:[ee],encapsulation:2})};var te=class o{static \u0275fac=function(e){return new(e||o)};static \u0275cmp=f({type:o,selectors:[["app-footer"]],decls:4,vars:0,consts:[[1,"layout-footer"],["href","https://www.facebook.com/sinoe.ruiz.1/","target","_blank","rel","noopener noreferrer",1,"text-primary","font-bold","hover:underline"]],template:function(e,t){e&1&&(n(0,"div",0),s(1," PROYECTO AVICOLA POR "),n(2,"a",1),s(3,"SINOE RUIZ"),r()())},encapsulation:2})};var yt=class o{constructor(i,e,t){this.layoutService=i;this.renderer=e;this.router=t;this.overlayMenuOpenSubscription=this.layoutService.overlayOpen$.subscribe(()=>{this.menuOutsideClickListener||(this.menuOutsideClickListener=this.renderer.listen("document","click",a=>{this.isOutsideClicked(a)&&this.hideMenu()})),this.layoutService.layoutState().staticMenuMobileActive&&this.blockBodyScroll()}),this.router.events.pipe(de(a=>a instanceof $e)).subscribe(()=>{this.hideMenu()})}overlayMenuOpenSubscription;menuOutsideClickListener;appSidebar;appTopBar;isOutsideClicked(i){let e=document.querySelector(".layout-sidebar"),t=document.querySelector(".layout-menu-button"),a=i.target;return!(e?.isSameNode(a)||e?.contains(a)||t?.isSameNode(a)||t?.contains(a))}hideMenu(){this.layoutService.layoutState.update(i=>_(I({},i),{overlayMenuActive:!1,staticMenuMobileActive:!1,menuHoverActive:!1})),this.menuOutsideClickListener&&(this.menuOutsideClickListener(),this.menuOutsideClickListener=null),this.unblockBodyScroll()}blockBodyScroll(){document.body.classList?document.body.classList.add("blocked-scroll"):document.body.className+=" blocked-scroll"}unblockBodyScroll(){document.body.classList?document.body.classList.remove("blocked-scroll"):document.body.className=document.body.className.replace(new RegExp("(^|\\b)"+"blocked-scroll".split(" ").join("|")+"(\\b|$)","gi")," ")}get containerClass(){return{"layout-overlay":this.layoutService.layoutConfig().menuMode==="overlay","layout-static":this.layoutService.layoutConfig().menuMode==="static","layout-static-inactive":this.layoutService.layoutState().staticMenuDesktopInactive&&this.layoutService.layoutConfig().menuMode==="static","layout-overlay-active":this.layoutService.layoutState().overlayMenuActive,"layout-mobile-active":this.layoutService.layoutState().staticMenuMobileActive}}ngOnDestroy(){this.overlayMenuOpenSubscription&&this.overlayMenuOpenSubscription.unsubscribe(),this.menuOutsideClickListener&&this.menuOutsideClickListener()}static \u0275fac=function(e){return new(e||o)(d(j),d(Ce),d(N))};static \u0275cmp=f({type:o,selectors:[["app-layout"]],viewQuery:function(e,t){if(e&1&&(ne(H,5),ne(z,5)),e&2){let a;A(a=T())&&(t.appSidebar=a.first),A(a=T())&&(t.appTopBar=a.first)}},decls:8,vars:1,consts:[[1,"layout-wrapper",3,"ngClass"],[1,"layout-main-container"],[1,"layout-main"],[1,"layout-mask","animate-fadein"]],template:function(e,t){e&1&&(n(0,"div",0),p(1,"app-topbar")(2,"app-sidebar"),n(3,"div",1)(4,"div",2),p(5,"router-outlet"),r(),p(6,"app-footer"),r(),p(7,"div",3),r()),e&2&&u("ngClass",t.containerClass)},dependencies:[b,P,z,H,G,ze,te],encapsulation:2})};function Ft(o,i){if(o&1&&(n(0,"li",6)(1,"div",7),p(2,"i",8),r(),n(3,"div",9)(4,"div",10),s(5),r(),n(6,"div",11),s(7),r()()()),o&2){let e=i.$implicit;c(5),h(e.text),c(2),h(e.fechaHora)}}function Vt(o,i){if(o&1&&(n(0,"li",6)(1,"div",7),p(2,"i",8),r(),n(3,"div",9)(4,"div",10),s(5),r(),n(6,"div",11),s(7),r()()()),o&2){let e=i.$implicit;c(5),h(e.text),c(2),h(e.fechaHora)}}function $t(o,i){if(o&1&&(n(0,"li",6)(1,"div",7),p(2,"i",8),r(),n(3,"div",9)(4,"div",10),s(5),r(),n(6,"div",11),s(7),r()()()),o&2){let e=i.$implicit;c(5),h(e.text),c(2),h(e.fechaHora)}}var gt=class o{constructor(i){this.dataService=i}notificaciones=[];hoy=[];ayer=[];semanaPasada=[];items=[{label:"AGREGAR",icon:"pi pi-fw pi-plus"},{label:"REMOVER",icon:"pi pi-fw pi-trash"}];ngOnInit(){this.dataService.getData().subscribe(i=>{console.log("Datos cargados desde JSON:",i),this.notificaciones=[...i.notificaciones.hoy,...i.notificaciones.ayer,...i.notificaciones.semanaPasada].map(e=>{let t=new Date(e.fechaHora),a=String(t.getDate()).padStart(2,"0"),l=String(t.getMonth()+1).padStart(2,"0"),m=t.getFullYear(),D=String(t.getHours()).padStart(2,"0"),g=String(t.getMinutes()).padStart(2,"0");return _(I({},e),{fechaHora:`${a}-${l}-${m} ${D}:${g}`})}),this.clasificarNotificaciones()})}clasificarNotificaciones(){let i=new Date;this.hoy=[],this.ayer=[],this.semanaPasada=[],this.notificaciones.forEach(e=>{let t=this.parseFecha(e.fechaHora),a=new Date(t.getFullYear(),t.getMonth(),t.getDate()),l=new Date(i.getFullYear(),i.getMonth(),i.getDate()),m=Math.floor((l.getTime()-a.getTime())/(1e3*60*60*24));m===0?this.hoy.push(e):m===1?this.ayer.push(e):this.semanaPasada.push(e)})}parseFecha(i){let[e,t,a]=i.split("-"),[l,m]=a.split(" "),[D,g]=m.split(":");return new Date(Number(l),Number(t)-1,Number(e),Number(D),Number(g))}static \u0275fac=function(e){return new(e||o)(d(k))};static \u0275cmp=f({type:o,selectors:[["app-notifications-widget"]],decls:16,vars:3,consts:[[1,"card"],[1,"flex","items-center","justify-between","mb-6"],[1,"font-semibold","text-xl"],[1,"block","text-muted-color","font-medium","mb-4"],[1,"p-0","mx-0","mt-0","mb-6","list-none"],["class","flex items-center py-2 border-b border-surface",4,"ngFor","ngForOf"],[1,"flex","items-center","py-2","border-b","border-surface"],[1,"w-12","h-12","flex","items-center","justify-center","bg-blue-100","dark:bg-blue-400/10","rounded-full","mr-4","shrink-0"],[1,"pi","pi-comment","text-purple-500","text-3xl"],[1,"flex","justify-between","items-center","w-full"],[1,"text-surface-900","dark:text-surface-0","leading-normal"],[1,"text-surface-500","text-base","ml-4","whitespace-nowrap"]],template:function(e,t){e&1&&(n(0,"div",0)(1,"div",1)(2,"div",2),s(3,"NOTIFICACIONES"),r()(),n(4,"span",3),s(5,"HOY"),r(),n(6,"ul",4),C(7,Ft,8,2,"li",5),r(),n(8,"span",3),s(9,"AYER"),r(),n(10,"ul",4),C(11,Vt,8,2,"li",5),r(),n(12,"span",3),s(13,"SEMANA PASADA"),r(),n(14,"ul",4),C(15,$t,8,2,"li",5),r()()),e&2&&(c(7),u("ngForOf",t.hoy),c(4),u("ngForOf",t.ayer),c(4),u("ngForOf",t.semanaPasada))},dependencies:[rt,pt,b,Q],encapsulation:2})};var St=class o{constructor(i){this.dataService=i}zonas=0;kazetasPorZona=0;embalajes=0;embalajesPorcentaje=0;empleados=0;empleadosRecientes=0;diagnosticosPorRevisar=0;diagnosticosRevisados=0;ngOnInit(){this.dataService.getData().subscribe(i=>{console.log("\u{1F4E5} Datos cargados desde JSON:",i),this.zonas=i.zonas,this.kazetasPorZona=i.kazetasPorZona,this.embalajes=i.embalajes.total,this.embalajesPorcentaje=i.embalajes.percentage,this.empleados=i.empleados.total,this.empleadosRecientes=i.empleados.recientes,this.diagnosticosPorRevisar=i.diagnosticos.porRevisar,this.diagnosticosRevisados=i.diagnosticos.revisados})}static \u0275fac=function(e){return new(e||o)(d(k))};static \u0275cmp=f({type:o,selectors:[["app-stats-widget"]],decls:57,vars:8,consts:[[1,"grid","grid-cols-12","gap-4"],[1,"col-span-12","lg:col-span-6","xl:col-span-3"],[1,"card","mb-0"],[1,"flex","justify-between","mb-4"],[1,"block","text-muted-color","font-medium","mb-4"],[1,"text-surface-900","dark:text-surface-0","font-medium","text-4xl"],[1,"flex","items-center","justify-center","bg-blue-100","dark:bg-blue-400/10","rounded-border",2,"width","2.5rem","height","2.5rem"],[1,"pi","pi-map-marker","text-blue-500","text-3xl"],[1,"text-primary","font-medium"],[1,"text-muted-color"],[1,"flex","items-center","justify-center","bg-orange-100","dark:bg-orange-400/10","rounded-border",2,"width","2.5rem","height","2.5rem"],[1,"pi","pi-dollar","text-orange-500","text-3xl"],[1,"flex","items-center","justify-center","bg-cyan-100","dark:bg-cyan-400/10","rounded-border",2,"width","2.5rem","height","2.5rem"],[1,"pi","pi-users","text-cyan-500","text-3xl"],[1,"flex","items-center","justify-center","bg-purple-100","dark:bg-purple-400/10","rounded-border",2,"width","2.5rem","height","2.5rem"],[1,"pi","pi-comment","text-purple-500","text-3xl"]],template:function(e,t){e&1&&(n(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"div")(5,"span",4),s(6,"ZONAS"),r(),n(7,"div",5),s(8),r()(),n(9,"div",6),p(10,"i",7),r()(),n(11,"span",8),s(12),r(),n(13,"span",9),s(14," KAZETAS POR ZONA"),r()()(),n(15,"div",1)(16,"div",2)(17,"div",3)(18,"div")(19,"span",4),s(20,"EMBALAJES"),r(),n(21,"div",5),s(22),r()(),n(23,"div",10),p(24,"i",11),r()(),n(25,"span",8),s(26),r(),n(27,"span",9),s(28," DESDE LA SEMANA PASADA"),r()()(),n(29,"div",1)(30,"div",2)(31,"div",3)(32,"div")(33,"span",4),s(34,"N\xDAMERO DE EMPLEADOS"),r(),n(35,"div",5),s(36),r()(),n(37,"div",12),p(38,"i",13),r()(),n(39,"span",8),s(40),r(),n(41,"span",9),s(42," REGISTROS RECIENTMENTE"),r()()(),n(43,"div",1)(44,"div",2)(45,"div",3)(46,"div")(47,"span",4),s(48,"DIAGN\xD3STICOS POR REVISAR"),r(),n(49,"div",5),s(50),r()(),n(51,"div",14),p(52,"i",15),r()(),n(53,"span",8),s(54),r(),n(55,"span",9),s(56," REVISADOS"),r()()()()),e&2&&(c(8),h(t.zonas),c(4),h(t.kazetasPorZona),c(10),re("$",t.embalajes,""),c(4),re("",t.embalajesPorcentaje,"%"),c(10),h(t.empleados),c(4),h(t.empleadosRecientes),c(10),h(t.diagnosticosPorRevisar),c(4),h(t.diagnosticosRevisados))},dependencies:[b],encapsulation:2})};var Ct=class o{constructor(i,e){this.layoutService=i;this.dataService=e}alimentoChartData;mortalidadChartData;chartOptions;mortalidadChartOptions;subscription;ngOnInit(){this.subscription=this.layoutService.configUpdate$.pipe(ue(25)).subscribe(()=>{this.loadChartData()}),this.loadChartData()}loadChartData(){let i=getComputedStyle(document.documentElement),e=i.getPropertyValue("--text-color"),t=i.getPropertyValue("--surface-border"),a=i.getPropertyValue("--text-color-secondary");this.dataService.getData().subscribe(l=>{let m=l.promedioAlimento,D=l.promedioMortalidad,g=Object.keys(m),Z=Math.max(...g.map(L=>m[L].data.length)),me=L=>{let S=["#03bb85","#0957a2","#ec0033","#ffeb3b","#ff4cff"],E=S[L%S.length],M=this.hexToRgb(E),F=.2*(L+1),ie=this.adjustColorBrightness(M,F);return this.rgbToHex(ie.r,ie.g,ie.b)},Ot=Array.from({length:Z},(L,S)=>{let E={type:"bar",label:`Kazeta ${S+1}`,data:g.map(M=>m[M].data[S]??0),backgroundColor:g.map((M,F)=>me(F)),barThickness:32};return S===Z-1&&Object.assign(E,{borderRadius:{topLeft:8,topRight:8},borderSkipped:!1}),E}),xt=Array.from({length:Z},(L,S)=>{let E={type:"bar",label:`Kazeta ${S+1}`,data:g.map(M=>D[M]?.data[S]??0),backgroundColor:g.map((M,F)=>me(F)),barThickness:32};return S===Z-1&&Object.assign(E,{borderRadius:{topLeft:8,topRight:8},borderSkipped:!1}),E});this.alimentoChartData={labels:g,datasets:Ot},this.mortalidadChartData={labels:g,datasets:xt},this.chartOptions={maintainAspectRatio:!1,aspectRatio:.9,plugins:{legend:{labels:{color:e}}},scales:{x:{stacked:!0,ticks:{color:a},grid:{color:"transparent",borderColor:"transparent"}},y:{stacked:!0,ticks:{color:a},grid:{color:t,borderColor:"transparent",drawTicks:!1}}}},this.mortalidadChartOptions=_(I({},this.chartOptions),{plugins:{legend:{labels:{color:"red"}}}})})}hexToRgb(i){let e=parseInt(i.slice(1,3),16),t=parseInt(i.slice(3,5),16),a=parseInt(i.slice(5,7),16);return{r:e,g:t,b:a}}adjustColorBrightness(i,e){return{r:Math.min(255,Math.max(0,i.r+i.r*e)),g:Math.min(255,Math.max(0,i.g+i.g*e)),b:Math.min(255,Math.max(0,i.b+i.b*e))}}rgbToHex(i,e,t){return"#"+(1<<24|i<<16|e<<8|t).toString(16).slice(1).toUpperCase()}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}static \u0275fac=function(e){return new(e||o)(d(j),d(k))};static \u0275cmp=f({type:o,selectors:[["app-revenue-stream-widget"]],decls:8,vars:4,consts:[[1,"card","!mb-8"],[1,"font-semibold","text-xl","mb-4"],["type","bar",1,"h-80",3,"data","options"]],template:function(e,t){e&1&&(n(0,"div",0)(1,"div",1),s(2,"PROMEDIO DE ALIMENTO: "),r(),p(3,"p-chart",2),r(),n(4,"div",0)(5,"div",1),s(6,"PROMEDIO DE MORTALIDAD: "),r(),p(7,"p-chart",2),r()),e&2&&(c(3),u("data",t.alimentoChartData)("options",t.chartOptions),c(4),u("data",t.mortalidadChartData)("options",t.mortalidadChartOptions))},dependencies:[dt,mt,b],encapsulation:2})};export{yt as a,gt as b,St as c,Ct as d};
