import{b as Se,d as be,e as Ee,f as ve,g as R}from"./chunk-J3NPS37Z.js";import{a as Q}from"./chunk-SS4IM6BC.js";import{a as he,b as xe}from"./chunk-CG6FHUDI.js";import{c as ge,d as _e,f as fe,g as Ce}from"./chunk-YRM76I5L.js";import{c as ye}from"./chunk-BQ3RKKWB.js";import{A as ne,B as oe,E as ae,F as le,G as ce,H as de,I as se,K as ue,L as me,N as pe,t as ee,u as te,v as ie,w as re}from"./chunk-ZBSQAANU.js";import{d as $}from"./chunk-FIFEGGVG.js";import"./chunk-2CUWROGR.js";import"./chunk-YUQJCTRW.js";import{c as j,e as q,f as K,h as X,i as z,j as Y,k as Z}from"./chunk-XANFHYTR.js";import{Na as T,Ra as I,l as F,lb as G,t as U,vb as H,wb as J}from"./chunk-UABIDNIC.js";import{$a as w,Bb as x,Fb as f,Gb as s,Lb as N,Mb as k,Nb as B,Oa as d,Qb as W,Rb as c,Sb as M,Ta as v,Vb as C,Wb as y,Xb as h,Yb as L,Zb as b,aa as u,ba as m,fb as E,lc as S,mb as p,pa as O,pb as V,vb as r,wb as i,xb as g}from"./chunk-AN2PFFFI.js";import{a as D}from"./chunk-EQDQRRRY.js";var Ie=["dt"],Re=()=>["name","country.name","representative.name","status"],Pe=()=>({"min-width":"75rem"}),Ae=()=>[10,20,30],we=()=>({width:"450px"});function Ve(l,n){if(l&1){let e=x();r(0,"p-button",11),f("onClick",function(){u(e);let t=s();return m(t.openNew())}),i(),r(1,"p-button",12),f("onClick",function(){u(e);let t=s();return m(t.deleteSelectedProducts())}),i()}if(l&2){let e=s();d(),p("disabled",!e.selectedProducts||!e.selectedProducts.length)}}function De(l,n){if(l&1){let e=x();r(0,"p-button",13),f("onClick",function(){u(e);let t=s();return m(t.exportCSV())}),i()}}function Oe(l,n){if(l&1){let e=x();r(0,"div",14)(1,"h5",15),c(2,"ADMINISTRACION DE TRABAJADORES"),i(),r(3,"p-iconfield"),g(4,"p-inputicon",16),r(5,"input",17),f("input",function(t){u(e);let a=s(),_=W(6);return m(a.onGlobalFilter(_,t))}),i()()()}}function Ne(l,n){l&1&&(r(0,"tr")(1,"th",18),g(2,"p-tableHeaderCheckbox"),i(),r(3,"th",19),c(4,"CODIGO"),i(),r(5,"th",20),c(6," NOMBRE "),g(7,"p-sortIcon",21),i(),r(8,"th",22),c(9," PUESTO "),g(10,"p-sortIcon",23),i(),r(11,"th",24),c(12," ESTATUS "),g(13,"p-sortIcon",25),i(),g(14,"th",26),i())}function ke(l,n){if(l&1){let e=x();r(0,"tr")(1,"td",18),g(2,"p-tableCheckbox",27),i(),r(3,"td",26),c(4),i(),r(5,"td",19),c(6),i(),r(7,"td"),c(8),i(),r(9,"td"),g(10,"p-tag",28),i(),r(11,"td")(12,"p-button",29),f("click",function(){let t=u(e).$implicit,a=s();return m(a.editProduct(t))}),i(),r(13,"p-button",30),f("click",function(){let t=u(e).$implicit,a=s();return m(a.deleteProduct(t))}),i()()()}if(l&2){let e=n.$implicit,o=s();d(2),p("value",e),d(2),M(e.code),d(2),M(e.name),d(2),M(e.category),d(2),p("value",e.inventoryStatus)("severity",o.getSeverity(e.inventoryStatus)),d(2),p("rounded",!0)("outlined",!0),d(),p("rounded",!0)("outlined",!0)}}function Be(l,n){l&1&&(r(0,"small",48),c(1,"EL NOMBRE ES OBLIGATORIO."),i())}function We(l,n){if(l&1){let e=x();r(0,"div",31)(1,"div")(2,"label",32),c(3,"NOMBRE"),i(),r(4,"input",33),h("ngModelChange",function(t){u(e);let a=s();return y(a.product.name,t)||(a.product.name=t),m(t)}),i(),E(5,Be,2,0,"small",34),i(),r(6,"div")(7,"label",35),c(8,"ESTATUS DEL INVENTARIO"),i(),r(9,"p-select",36),h("ngModelChange",function(t){u(e);let a=s();return y(a.product.inventoryStatus,t)||(a.product.inventoryStatus=t),m(t)}),i()(),r(10,"div")(11,"span",37),c(12,"PUESTO"),i(),r(13,"div",38)(14,"div",39)(15,"p-radiobutton",40),h("ngModelChange",function(t){u(e);let a=s();return y(a.product.category,t)||(a.product.category=t),m(t)}),i(),r(16,"label",41),c(17,"ADMINISTRADOR"),i()(),r(18,"div",39)(19,"p-radiobutton",42),h("ngModelChange",function(t){u(e);let a=s();return y(a.product.category,t)||(a.product.category=t),m(t)}),i(),r(20,"label",43),c(21,"GRANJERO"),i()(),r(22,"div",39)(23,"p-radiobutton",44),h("ngModelChange",function(t){u(e);let a=s();return y(a.product.category,t)||(a.product.category=t),m(t)}),i(),r(24,"label",45),c(25,"ENCARGADO"),i()(),r(26,"div",39)(27,"p-radiobutton",46),h("ngModelChange",function(t){u(e);let a=s();return y(a.product.category,t)||(a.product.category=t),m(t)}),i(),r(28,"label",47),c(29,"MEDICO"),i()()()()()}if(l&2){let e=s();d(4),C("ngModel",e.product.name),d(),p("ngIf",e.submitted&&!e.product.name),d(4),C("ngModel",e.product.inventoryStatus),p("options",e.statuses),d(6),C("ngModel",e.product.category),d(4),C("ngModel",e.product.category),d(4),C("ngModel",e.product.category),d(4),C("ngModel",e.product.category)}}function Le(l,n){if(l&1){let e=x();r(0,"p-button",49),f("click",function(){u(e);let t=s();return m(t.hideDialog())}),i(),r(1,"p-button",50),f("click",function(){u(e);let t=s();return m(t.saveProduct())}),i()}}var P=class l{constructor(n,e,o){this.productService=n;this.messageService=e;this.confirmationService=o}productDialog=!1;products=O([]);product;selectedProducts;submitted=!1;statuses;dt;exportColumns;cols;exportCSV(){this.dt.exportCSV()}ngOnInit(){this.loadDemoData()}loadDemoData(){this.productService.getProducts().then(n=>{this.products.set(n)}),this.statuses=[{label:"ACTIVO",value:"ACTIVO"},{label:"RENUNCIA",value:"RENUNCIA"},{label:"BAJA",value:"BAJA"}],this.cols=[{field:"code",header:"Code",customExportHeader:"Product Code"},{field:"name",header:"Name"},{field:"image",header:"Image"},{field:"price",header:"Price"},{field:"category",header:"Category"}],this.exportColumns=this.cols.map(n=>({title:n.header,dataKey:n.field}))}onGlobalFilter(n,e){n.filterGlobal(e.target.value,"contains")}openNew(){this.product={},this.submitted=!1,this.productDialog=!0}editProduct(n){this.product=D({},n),this.productDialog=!0}deleteSelectedProducts(){this.confirmationService.confirm({message:"Are you sure you want to delete the selected products?",header:"Confirm",icon:"pi pi-exclamation-triangle",accept:()=>{this.products.set(this.products().filter(n=>!this.selectedProducts?.includes(n))),this.selectedProducts=null,this.messageService.add({severity:"success",summary:"Successful",detail:"Products Deleted",life:3e3})}})}hideDialog(){this.productDialog=!1,this.submitted=!1}deleteProduct(n){this.confirmationService.confirm({message:"ESTAS SEGURO DE QUE QUIERES ELIMINAR "+n.name+"?",header:"CONFIRMAR",icon:"pi pi-exclamation-triangle",accept:()=>{this.products.set(this.products().filter(e=>e.id!==n.id)),this.product={},this.messageService.add({severity:"success",summary:"Successful",detail:"Product Deleted",life:3e3})}})}findIndexById(n){let e=-1;for(let o=0;o<this.products().length;o++)if(this.products()[o].id===n){e=o;break}return e}createId(){let n="";for(var e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",o=0;o<5;o++)n+=e.charAt(Math.floor(Math.random()*e.length));return n}getSeverity(n){switch(n){case"ACTIVO":return"success";case"RENUNCIA":return"warn";case"BAJA":return"danger";default:return"info"}}saveProduct(){this.submitted=!0;let n=this.products();this.product.name?.trim()&&(this.product.id?(n[this.findIndexById(this.product.id)]=this.product,this.products.set([...n]),this.messageService.add({severity:"success",summary:"Successful",detail:"Product Updated",life:3e3})):(this.product.id=this.createId(),this.product.image="product-placeholder.svg",this.messageService.add({severity:"success",summary:"Successful",detail:"Product Created",life:3e3}),this.products.set([...n,this.product])),this.productDialog=!1,this.product={})}static \u0275fac=function(e){return new(e||l)(v(R),v(I),v(T))};static \u0275cmp=w({type:l,selectors:[["app-crud"]],viewQuery:function(e,o){if(e&1&&N(Ie,5),e&2){let t;k(t=B())&&(o.dt=t.first)}},features:[L([I,R,T])],decls:19,vars:21,consts:[["start",""],["end",""],["dt",""],["caption",""],["header",""],["body",""],["content",""],["footer",""],["styleClass","mb-6"],["dataKey","id","currentPageReportTemplate","MOSTRANDO DEL {first} AL {last} DE {totalRecords} PRODUCTOS",3,"selectionChange","value","rows","columns","paginator","globalFilterFields","tableStyle","selection","rowHover","showCurrentPageReport","rowsPerPageOptions"],["header","A\xD1ADIR UN TRABAJADOR",3,"visibleChange","visible","modal"],["label","NUEVO","icon","pi pi-plus","severity","secondary",1,"mr-2",3,"onClick"],["severity","secondary","label","ELIMINAR","icon","pi pi-trash","outlined","",3,"onClick","disabled"],["label","EXPORTAR","icon","pi pi-upload","severity","secondary",3,"onClick"],[1,"flex","items-center","justify-between"],[1,"m-0"],["styleClass","pi pi-search"],["pInputText","","type","text","placeholder","BUSCAR...",3,"input"],[2,"width","3rem"],[2,"min-width","16rem"],["pSortableColumn","name",2,"min-width","16rem"],["field","name"],["pSortableColumn","category",2,"min-width","10rem"],["field","category"],["pSortableColumn","inventoryStatus",2,"min-width","12rem"],["field","inventoryStatus"],[2,"min-width","12rem"],[3,"value"],[3,"value","severity"],["icon","pi pi-pencil",1,"mr-2",3,"click","rounded","outlined"],["icon","pi pi-trash","severity","danger",3,"click","rounded","outlined"],[1,"flex","flex-col","gap-6"],["for","name",1,"block","font-bold","mb-3"],["type","text","pInputText","","id","name","required","","autofocus","","fluid","",3,"ngModelChange","ngModel"],["class","text-red-500",4,"ngIf"],["for","inventoryStatus",1,"block","font-bold","mb-3"],["inputId","inventoryStatus","optionLabel","label","optionValue","label","placeholder","SELECCIONE EL ESTATUS","fluid","",3,"ngModelChange","ngModel","options"],[1,"block","font-bold","mb-4"],[1,"grid","grid-cols-12","gap-4"],[1,"flex","items-center","gap-2","col-span-6"],["id","category1","name","category","value","ADMINISTRADOR",3,"ngModelChange","ngModel"],["for","category1"],["id","category2","name","category","value","GRANJERO",3,"ngModelChange","ngModel"],["for","category2"],["id","category3","name","category","value","ENCARGADO",3,"ngModelChange","ngModel"],["for","category3"],["id","category4","name","category","value","MEDICO",3,"ngModelChange","ngModel"],["for","category4"],[1,"text-red-500"],["label","CANCELAR","icon","pi pi-times","text","",3,"click"],["label","GUARDAR","icon","pi pi-check",3,"click"]],template:function(e,o){if(e&1){let t=x();r(0,"p-toolbar",8),E(1,Ve,2,1,"ng-template",null,0,S)(3,De,1,0,"ng-template",null,1,S),i(),r(5,"p-table",9,2),h("selectionChange",function(_){return u(t),y(o.selectedProducts,_)||(o.selectedProducts=_),m(_)}),E(7,Oe,6,0,"ng-template",null,3,S)(9,Ne,15,0,"ng-template",null,4,S)(11,ke,14,10,"ng-template",null,5,S),i(),r(13,"p-dialog",10),h("visibleChange",function(_){return u(t),y(o.productDialog,_)||(o.productDialog=_),m(_)}),E(14,We,30,8,"ng-template",null,6,S)(16,Le,2,0,"ng-template",null,7,S),i(),g(18,"p-confirmdialog")}e&2&&(d(5),p("value",o.products())("rows",10)("columns",o.cols)("paginator",!0)("globalFilterFields",b(16,Re))("tableStyle",b(17,Pe)),C("selection",o.selectedProducts),p("rowHover",!0)("showCurrentPageReport",!0)("rowsPerPageOptions",b(18,Ae)),d(8),V(b(19,we)),C("visible",o.productDialog),p("modal",!0),d(5),V(b(20,we)))},dependencies:[U,F,pe,ce,de,se,ue,me,z,j,q,X,K,J,H,G,ye,_e,ge,be,Z,Y,Se,oe,ne,le,ae,$,Ce,fe,ve,Ee,re,ie,te,ee,xe,he],encapsulation:2})};var A=class l{static \u0275fac=function(e){return new(e||l)};static \u0275cmp=w({type:l,selectors:[["app-empty"]],decls:5,vars:0,consts:[[1,"card"],[1,"font-semibold","text-xl","mb-4"]],template:function(e,o){e&1&&(r(0,"div",0)(1,"div",1),c(2,"Empty Page"),i(),r(3,"p"),c(4,"Use this page to start from scratch and place your custom content."),i()())},encapsulation:2})};var Dt=[{path:"documentation",component:Q},{path:"crud",component:P},{path:"empty",component:A},{path:"**",redirectTo:"/notfound"}];export{Dt as default};
