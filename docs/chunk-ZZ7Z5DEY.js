import{a as f}from"./chunk-X27HPXII.js";import{d as N,g as D,h as U,i as B,m as $}from"./chunk-WE3BECVD.js";import{j as w,k as q,kb as j,l as T,lb as z,t as O}from"./chunk-UABIDNIC.js";import{$a as L,Bb as b,Dc as K,Ec as V,Fb as k,Gb as o,Gc as x,Hc as C,Ic as H,La as A,Oa as a,Rb as l,Sb as d,Ta as h,Yb as F,Zb as E,aa as y,ba as v,fb as c,lb as _,mb as r,ob as M,qb as I,vb as s,wb as m,x as S,xb as p,yb as R,zb as P}from"./chunk-AN2PFFFI.js";var G=["app-menuitem",""],J=()=>({paths:"exact",queryParams:"ignored",matrixParams:"ignored",fragment:"ignored"});function Q(i,n){if(i&1&&(s(0,"div",4),l(1),m()),i&2){let e=o();a(),d(e.item.label)}}function X(i,n){i&1&&p(0,"i",9)}function Y(i,n){if(i&1){let e=b();s(0,"a",5),k("click",function(u){y(e);let g=o();return v(g.itemClick(u))}),p(1,"i",6),s(2,"span",7),l(3),m(),c(4,X,1,0,"i",8),m()}if(i&2){let e=o();r("ngClass",e.item.styleClass),_("href",e.item.url,A)("target",e.item.target),a(),r("ngClass",e.item.icon),a(2),d(e.item.label),a(),r("ngIf",e.item.items)}}function Z(i,n){i&1&&p(0,"i",9)}function ee(i,n){if(i&1){let e=b();s(0,"a",10),k("click",function(u){y(e);let g=o();return v(g.itemClick(u))}),p(1,"i",6),s(2,"span",7),l(3),m(),c(4,Z,1,0,"i",8),m()}if(i&2){let e=o();r("ngClass",e.item.styleClass)("routerLink",e.item.routerLink)("routerLinkActiveOptions",e.item.routerLinkActiveOptions||E(14,J))("fragment",e.item.fragment)("queryParamsHandling",e.item.queryParamsHandling)("preserveFragment",e.item.preserveFragment)("skipLocationChange",e.item.skipLocationChange)("replaceUrl",e.item.replaceUrl)("state",e.item.state)("queryParams",e.item.queryParams),_("target",e.item.target),a(),r("ngClass",e.item.icon),a(2),d(e.item.label),a(),r("ngIf",e.item.items)}}function te(i,n){if(i&1&&p(0,"li",12),i&2){let e=n.$implicit,t=n.index,u=o(2);I(e.badgeClass),r("item",e)("index",t)("parentKey",u.key)}}function ie(i,n){if(i&1&&(s(0,"ul"),c(1,te,1,5,"ng-template",11),m()),i&2){let e=o();r("@children",e.submenuAnimation),a(),r("ngForOf",e.item.items)}}var W=class i{constructor(n,e){this.router=n;this.layoutService=e;this.menuSourceSubscription=this.layoutService.menuSource$.subscribe(t=>{Promise.resolve(null).then(()=>{t.routeEvent?this.active=!!(t.key===this.key||t.key.startsWith(this.key+"-")):t.key!==this.key&&!t.key.startsWith(this.key+"-")&&(this.active=!1)})}),this.menuResetSubscription=this.layoutService.resetSource$.subscribe(()=>{this.active=!1}),this.router.events.pipe(S(t=>t instanceof N)).subscribe(t=>{this.item.routerLink&&this.updateActiveStateFromRoute()})}item;index;root;parentKey;active=!1;menuSourceSubscription;menuResetSubscription;key="";ngOnInit(){this.key=this.parentKey?this.parentKey+"-"+this.index:String(this.index),this.item.routerLink&&this.updateActiveStateFromRoute()}updateActiveStateFromRoute(){this.router.isActive(this.item.routerLink[0],{paths:"exact",queryParams:"ignored",matrixParams:"ignored",fragment:"ignored"})&&this.layoutService.onMenuStateChange({key:this.key,routeEvent:!0})}itemClick(n){if(this.item.disabled){n.preventDefault();return}this.item.command&&this.item.command({originalEvent:n,item:this.item}),this.item.items&&(this.active=!this.active),this.layoutService.onMenuStateChange({key:this.key})}get submenuAnimation(){return this.root||this.active?"expanded":"collapsed"}get activeClass(){return this.active&&!this.root}ngOnDestroy(){this.menuSourceSubscription&&this.menuSourceSubscription.unsubscribe(),this.menuResetSubscription&&this.menuResetSubscription.unsubscribe()}static \u0275fac=function(e){return new(e||i)(h(D),h(f))};static \u0275cmp=L({type:i,selectors:[["","app-menuitem",""]],hostVars:4,hostBindings:function(e,t){e&2&&M("layout-root-menuitem",t.root)("active-menuitem",t.activeClass)},inputs:{item:"item",index:"index",root:"root",parentKey:"parentKey"},features:[F([f])],attrs:G,decls:5,vars:4,consts:[["class","layout-menuitem-root-text",4,"ngIf"],["tabindex","0","pRipple","",3,"ngClass","click",4,"ngIf"],["routerLinkActive","active-route","tabindex","0","pRipple","",3,"ngClass","routerLink","routerLinkActiveOptions","fragment","queryParamsHandling","preserveFragment","skipLocationChange","replaceUrl","state","queryParams","click",4,"ngIf"],[4,"ngIf"],[1,"layout-menuitem-root-text"],["tabindex","0","pRipple","",3,"click","ngClass"],[1,"layout-menuitem-icon",3,"ngClass"],[1,"layout-menuitem-text"],["class","pi pi-fw pi-angle-down layout-submenu-toggler",4,"ngIf"],[1,"pi","pi-fw","pi-angle-down","layout-submenu-toggler"],["routerLinkActive","active-route","tabindex","0","pRipple","",3,"click","ngClass","routerLink","routerLinkActiveOptions","fragment","queryParamsHandling","preserveFragment","skipLocationChange","replaceUrl","state","queryParams"],["ngFor","",3,"ngForOf"],["app-menuitem","",3,"item","index","parentKey"]],template:function(e,t){e&1&&(R(0),c(1,Q,2,1,"div",0)(2,Y,5,6,"a",1)(3,ee,5,15,"a",2)(4,ie,2,2,"ul",3),P()),e&2&&(a(),r("ngIf",t.root&&t.item.visible!==!1),a(),r("ngIf",(!t.item.routerLink||t.item.items)&&t.item.visible!==!1),a(),r("ngIf",t.item.routerLink&&!t.item.items&&t.item.visible!==!1),a(),r("ngIf",t.item.items&&t.item.visible!==!1))},dependencies:[i,O,w,q,T,$,U,B,z,j],encapsulation:2,data:{animation:[K("children",[C("collapsed",x({height:"0"})),C("expanded",x({height:"*"})),H("collapsed <=> expanded",V("400ms cubic-bezier(0.86, 0, 0.07, 1)"))])]}})};export{W as a};
